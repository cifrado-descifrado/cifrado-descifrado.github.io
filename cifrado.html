<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <title>Cifrado</title>
    </head>
    <body>
        <h2>Palabra a n√∫mero</h2>
        <input type="text" id="entrada1">
        <div id="resultado1"></div>
        <button onclick="palabraNumero(document.getElementById('entrada1').value)">Cifrar</button>
        <button onclick="numeroPalabra(document.getElementById('entrada1').value)">Descifrar</button>

        <h2>Caracter + x</h2>
        <input type="text" id="entrada2">
        <input type="text" id="diferencia">
        <div id="resultado2"></div>
        <button onclick="caracter(document.getElementById('entrada2').value, document.getElementById('diferencia').value)">Cifrar</button>
        
        <h2>Voltear</h2>
        <input type="text" id="entrada3">
        <div id="resultado3"></div>
        <button onclick="volteado(document.getElementById('entrada3').value)">Cifrar</button>

        <h2>Atbash</h2>
        <input type="text" id="entrada4">
        <div id="resultado4"></div>
        <button onclick="atbash(document.getElementById('entrada4').value)">Cifrar</button>
    </body>
    <script>
        var l = "abcdefghijklmnopqrstuvwxyz"

        function voltear(palabra){
            var newpalabra = "";
            for(var x = palabra.length - 1; x >= 0; x--){
                newpalabra += palabra[x];
            }
            return newpalabra;
        }
        function corregir(palabra){
            palabra = palabra.normalize('NFD').replace(/([\u0300-\u036f]|[^0-9a-zA-Z])/g, '');
            palabra = palabra.toLowerCase(); 
            return palabra;
        }
        function palabraNumero(p){
            var palabras = p.split(' ');
            var num = "";
            for(var y = 0; y < palabras.length; y++){
                var n = 0;
                var palabra = palabras[y];
                palabra = corregir(palabra);
                palabra = voltear(palabra)
                for(var x = 0; x < palabra.length; x++){
                    n += Math.pow(26, x) * (l.indexOf(palabra[x]) + 1);
                }
                num += n.toString() + " ";
            }
            
            document.getElementById('resultado1').innerHTML = num;
        }
        function numeroPalabra(num){
            var numeros = num.split(' ');
            var palabra = "";
            for(var y = 0; y < numeros.length; y++){
                var n2 = nu = numeros[y];
                var n = 1;
                do{
                    n2 /= 26;
                    n++;
                }while(n2 > 26);

                for(var i = n; i > 0; i--){
                    var a = Math.floor(nu/(Math.pow(26, i -1)));
                    palabra += l[a - 1];
                    nu -= Math.pow(26, i - 1) * a;
                }
                palabra += " "
            }
            
            
            document.getElementById('resultado1').innerHTML = palabra;
        }
        function caracter(pals, d){
            d = parseInt(d);
            ps = pals.split(' ');
            var p = "";
            for(var y = 0; y < ps.length; y++){
                var pa = ps[y];
                pa = corregir(pa);
                for(var i = 0; i < pa.length; i++){
                    var a = l.indexOf(pa[i]) + d;
                    var b = a % 26;
                    if(b < 0){
                        b += 26;
                    }
                    p += l[b];
                }
                p += " ";
            }
            document.getElementById('resultado2').innerHTML = p;
        }
        function volteado(p){
            var v = voltear(p);
            document.getElementById('resultado3').innerHTML = v;
        }
        function atbash(pals){
            var vl = voltear(l);
            ps = pals.split(' ');
            p = "";
            for(var y = 0; y < ps.length; y++){
                var pa = ps[y];
                pa = corregir(pa);
                for(var i = 0; i < pa.length; i++){
                    var a = l.indexOf(pa[i]);
                    p += vl[a];
                }
                p += " ";
            }
            document.getElementById('resultado4').innerHTML = p;
        }
    </script>
</html>